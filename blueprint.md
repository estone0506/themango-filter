# The Mango Filter (V5.5.9) - 더망고 마켓 삭제 및 필터 관리 도구 (재건축)

## 프로젝트 개요
기존 V1의 복잡성을 제거하고, **페이지 내부 함수(`goods_permanent_delete`)를 직접 호출하는 방식(Script Injection)**으로 재설계한 버전입니다. 삭제 기능의 신뢰성과 안정성을 최우선으로 합니다.

## 핵심 구조 (V2.0)
- **manifest.json**: `web_accessible_resources` 권한 추가 (`inject.js` 주입용).
- **inject.js (신규)**: 더망고 페이지의 `window` 객체에 직접 접근하여 `goods_permanent_delete` 함수를 실행하는 **진짜 마스터 스크립트**. `confirm`, `alert` 창 자동 승인 기능 포함.
- **content.js**: 팝업과 `inject.js` 사이의 **메시지 전달자(Bridge)** 역할만 수행.
- **popup.js**: 사용자 삭제 명령(`selected` / `all`) 전송.

## 구현된 기능 (Step 1)
- [x] **마켓 선택 삭제**: 현재 페이지에서 체크된 상품들을 마켓에서 삭제.
- [x] **마켓 전체 삭제**: 검색 결과의 모든 상품을 마켓에서 일괄 삭제 (`goods_permanent_delete('all')` 호출).
- [x] **자동 승인 처리**: `confirm` 창을 자동으로 "확인" 처리하여 중단 없이 삭제 진행.

## 구현된 기능 (Step 2 - 필터 및 동기화)
- [x] **필터 수집**: 기존 V1의 필터 수집 및 리스트 관리 기능 재도입.
    - 필터 동기화 기능 구현 (페이지 내 10개 필터를 순차적으로 투영).
    - **과거 필터 수집(수집일/생성일)**: 특정 URL(`modify_asc`, `register_asc`)로 이동하여 최상단 10개 필터 자동 수집 기능 구현.
    - 개별 필터 삭제 및 목록 초기화 기능 추가.
- [x] **마켓 체크박스 동기화**: 팝업에서 마켓 선택 시 페이지 체크박스 연동 및 양방향 상태 동기화 완료.
    - **자동 마켓 선택 및 시작**: 상품 업데이트 페이지(`admin_goods_update.php`) 진입 시 마스터 체크박스 활성화 및 전송 시작 버튼 자동 클릭 기능 구현.
    - **최종 완료 알림**: 모든 작업이 완료되면 필터명과 함께 통합 성공 알림(`alert`) 표시.
- [x] **초기화 및 테스트**: 데이터 전체 삭제 기능(초기화) 및 특정 필터 자동화 시나리오 테스트 버튼 추가.

## 사용 방법
1. 더망고 관리자 페이지(`admin_goods_update_delete.php`) 접속.
2. 삭제할 상품 검색 또는 선택.
3. 확장 프로그램 팝업 실행.
4. **"선택 상품 삭제"** 또는 **"모든 검색결과 삭제"** 버튼 클릭.

## 사용 방법
1. 더망고 관리자 페이지(`admin_goods_update_delete.php`) 접속.
2. 삭제할 상품 검색 또는 선택.
3. 확장 프로그램 팝업 실행.
4. **"선택 상품 삭제"** 또는 **"모든 검색결과 삭제"** 버튼 클릭.
